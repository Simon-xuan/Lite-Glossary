# Lite-Glossary
轻量级词汇表（Lite Glossary）是一个极简的 WordPress 插件，用于在文章/页面内容中为术语添加工具提示。它替代了臃肿的 CM Tooltip Glossary，提供了更高效、更简洁的解决方案。

## 功能特点

- **自定义文章类型**：使用专门的 "词汇表" 自定义文章类型管理术语
- **智能匹配**：在内容中自动匹配术语，避开已有的链接和标题标签
- **高亮选项**：支持仅高亮文中首次出现的术语
- **原生前端**：使用纯 CSS + 原生 JavaScript 实现工具提示，无外部依赖
- **批量导入**：支持通过 CSV 文本批量导入术语
- **高性能**：使用缓存机制减少数据库查询，提高性能

## 使用方法

1. 登录 WordPress 后台
2. 点击左侧菜单中的 "词汇表"
3. 点击 "添加新" 按钮
4. 在 "标题" 字段中输入识别关键词，若有别名用｜隔开，在,后标注释义
     如：Phone,手机 当文章内出现“Phone”时会触发“手机”释义
     如：TV｜television,电视 当文章内出现“TV”或”television“时会触发“手机”释义
5. 点击 "发布" 按钮保存

6. 若您使用 CSV 格式上传，格式为：
   ``
   缩写1｜缩写2,释义
   缩写1｜缩写2,释义
   ...
   ```
7. 点击 "导入术语" 按钮
8. 导入完成后，会显示导入结果通知
## 安装方法

1. **下载插件**：获取 `LiteGlossary.zip` 压缩包
2. **上传安装**：
   - 登录 WordPress 后台
   - 进入 "插件" → "添加新插件"
   - 点击 "上传插件"
   - 选择 `LiteGlossary.zip` 文件上传
   - 点击 "现在安装"
3. **激活插件**：安装完成后，点击 "激活插件"


## 配置选项

1. 登录 WordPress 后台
2. 点击左侧菜单中的 "轻量级词汇表"
3. 切换到 "设置" 标签页
4. 勾选 "仅高亮内容中首次出现的术语" 选项（可选）
5. 点击 "保存设置" 按钮

## 工作原理

1. **内容过滤**：插件使用 `the_content` 钩子在文章/页面内容输出前进行处理
2. **术语匹配**：使用正则表达式在内容中匹配已添加的术语
3. **工具提示**：将匹配到的术语包装为带工具提示的 HTML 元素
4. **前端显示**：使用 CSS 和 JavaScript 实现鼠标悬停时显示工具提示

## 技术实现

- **后端**：使用 WordPress 自定义文章类型和钩子系统
- **前端**：纯 CSS + 原生 JavaScript，无 jQuery 依赖
- **性能优化**：使用 WordPress 瞬态缓存存储术语数据，减少数据库查询
- **安全性**：严格执行数据清理、验证和转义，防止 XSS 攻击

## 故障排除

### 术语不显示工具提示

1. 检查术语是否已发布
2. 确保文章/页面内容中包含与术语标题完全匹配的文本
3. 清除浏览器缓存，刷新页面

### 批量导入失败

1. 检查 CSV 格式是否正确（格式：缩写,全名及班级）
2. 确保每行只有一个术语
3. 确保逗号分隔符使用正确

### 插件冲突

如果与其他插件发生冲突，尝试：
1. 暂时禁用其他可能冲突的插件
2. 检查主题是否有自定义的内容过滤函数

## 常见问题

**Q: 插件支持中文术语吗？**
A: 是的，插件完全支持中文术语和解释。

**Q: 可以修改工具提示的样式吗？**
A: 可以，您可以修改 `assets/css/tooltip.css` 文件来自定义样式。

**Q: 插件会影响网站性能吗？**
A: 插件使用了缓存机制，只会在需要时进行数据库查询，对性能影响很小。

**Q: 支持多少个术语？**
A: 理论上支持无限个术语，但建议不要添加过多，以免影响匹配性能。

## 版本历史

- **1.0.0**：初始版本
  - 支持自定义文章类型管理术语
  - 支持内容中自动匹配术语
  - 支持批量导入术语
  - 支持仅高亮首次出现的术语
  - 纯 CSS + 原生 JavaScript 实现工具提示

## 许可证

本插件使用 GPL-2.0+ 许可证开源。

## 联系方式

如有问题或建议，欢迎联系插件作者。
